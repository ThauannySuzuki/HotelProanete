<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hotel Proaneteüíô</title>
</head>
<body>
    
</body>
</html>

<script>

var quartos = [];
var senha = 2678;
var ValorCafe = 0;

var ValorAgua = 0;

var ValorSalgado = 0;

var valorgar√ßons = 0;

var EventoTotal = 0;
var empresa = '';
    var diaSemana ='';
    var horario = 0;
    var horas = 0;
    var totalgar√ßons = 0;
    var gar√ßonsPorConvidado = 0;
    var gar√ßonsPorHora = 0;
    var convidados = 0;
    

var continuar2 = true;
gratuidades = 0;
meias = 0 
var hospedes = [];


alert("Bem vindo ao Hotel Proanete!üíô");
var nome = prompt("Insira seu nome:");

var confsenha = prompt("Insira senha:");

while(confsenha != senha){
    var confsenha = prompt("Senha incorreta:");
}


alert("Bem vindo ao Hotel Proaneteüíô, "+ nome +". prazer ter voc√™ por aqui!")

function Inicio(){
    var escolha = parseInt(prompt("Escolha uma op√ß√£o: \n1) Cadastrar \n2) Pesquisar \n3) Listar \n4) Evento \n5) Posto de Gasolina \n6) Manuten√ß√£o de Ar Condicionado \n7) Sair"))

    switch(escolha){
        case 1:
        reserva();
        break;

        case 2:
        Pesquisar();
        break;

        case 3:
        alert(hospedes)
        break;

        case 4:
        Evento();
        break;
    
        case 5:
        PostodeGasolina();
        break;

        case 6:
        ArCondicionado();
        break;


        case 7:
        alert("Muito obrigado e at√© logo, " + nome + "!.");
        sair();
        break;

        
    }

if (escolha > 7 || isNaN || escolha < 7){
    alert("Op√ß√£o Inv√°lida! Tente novamente.");
    Inicio();
}




}

function sair() {
			var confirma = confirm('Voc√™ deseja sair?');
			if (confirma) {
				window.close();
			} else {
				inicio();
			}
		}


        

function reserva(){

   
    var valorTotal = 0


    var ValDia = parseFloat(prompt("Qual o valor padr√£o da di√°ria?"));

    while (ValDia <= 0){
        alert("Valor inv√°lido, " + nome);
        var ValDia = parseFloat(prompt("Digite novamente o valor padr√£o da di√°ria:"));
    }

    while(continuar2){

       

        var nomeHosp = prompt("Qual o nome do h√≥spede? ");

        if (hospedes.length <= 14){
            hospedes.push(nomeHosp);
        }else{
            alert("M√°ximo de cadastros atingido. N√£o ser√° possivel adicionar.")
            Inicio();
        }

    


        var idade = parseInt(prompt("Qual a idade do H√≥spede?"));

        if(idade <= 6){
            alert(nomeHosp + " cadastrada(o) com sucesso. " + nomeHosp + " Possui gratuidade");
           
            gratuidades++

        } else if(idade >= 60){
            alert(nomeHosp + " cadastrada(o) com sucesso. " + nomeHosp + " Paga meia");
            meias++
            valorTotal += ValDia / 2

        }else{
            alert(nomeHosp + " cadastrada(o) com sucesso.");
            valorTotal += ValDia
        }


        var confirmacao = prompt("Digite PARE se quiser sair. se deseja continuar aperte a tecla 'Enter'");

        if(confirmacao == 'PARE'){
        alert( nome + ", o valor total das hospedagens √© de $" + valorTotal + "\nA quantidade de gratuidades foi de " + gratuidades + "\nA quantidade de meias foi de " + meias);
            break;
        }

    }
    
   
   


    var QuantDia = parseInt(prompt("Quantas di√°rias ser√£o necess√°rias?  "));

    while (QuantDia <= 0 || QuantDia > 30){
        alert("Valor inv√°lido, " + nome);
        var QuantDia = parseInt(prompt("Digite novamente quantas di√°rias ser√£o necess√°rias:"));
    }

   
    var QuantXvaldia = QuantDia*valorTotal;

    alert("O valor de " + QuantDia +" dias de hospedagem √© de $" + QuantXvaldia);

    var continuar = true;

    var escolhaQuarto = parseInt(prompt("Qual o quarto para reserva? (1 - 20)?"))

    while(escolhaQuarto > 20 || escolhaQuarto < 1){
        alert("Op√ß√£o inv√°lida. Insira um valor de (1-20)");
        var escolhaQuarto = parseInt(prompt("Insira novamente qual o quarto para reserva? (1 - 20)?"))
    }

    while(continuar){
    if (quartos.includes(escolhaQuarto)) {
        alert("Quarto est√° ocupado. Escolha outro.")
        var escolhaQuarto = parseInt(prompt("Qual o quarto para reserva? (1 - 20)?"))
    } else {
        quartos.push(escolhaQuarto);
        alert("Quarto Livre.");
        break;
    }
    
       
    }

    

    var confirmaReserva = prompt( nome + ", voc√™ confirma a hospedagem para " + nomeHosp +" por " + QuantDia + " dias para o quarto " + escolhaQuarto + " por " + QuantXvaldia +"$ ? \nS/N?");

    if (confirmaReserva = 'S'){
        alert(nome + ", reserva efetudada para " + nomeHosp +"! por " + QuantDia + " dias para o quarto " + escolhaQuarto + " por " + QuantXvaldia +"$");
        
        Inicio();
    }else {
        alert("Reserva n√£o efetuada");
        hospedes.splice(nomeHosp);
        quartos.splice(escolhaQuarto);
        Inicio();
    }


}




function  Pesquisar(){

var nomePesquisa = prompt("Digite o nome do H√≥spede que deseja encontar:");

if (hospedes.includes(nomePesquisa)){
    alert("H√≥spede " + nomePesquisa + ", Foi encontrado(a)!");
    Inicio();
}else{
    alert("H√≥spede " + nomePesquisa + ", N√£o foi encontrado(a)!");
    Inicio();
}



}


function Evento(){

    const capacidadeLaranja = 150;
    const capacidadeColorado = 350;
    const capacidadeAdicionalLaranja = 70;

     convidados = parseInt(prompt("Qual o n√∫mero de convidados para o seu evento?"));

    if (convidados > capacidadeColorado || convidados < 0) {
        alert("N√∫mero de convidados inv√°lido. (1 - 350)");
       Evento();

}else {
    
        if (convidados <= 220 ) {
            alert("Use o audit√≥rio Laranja");
            const cadeirasAdicionais = Math.max(0, convidados - capacidadeLaranja);
            alert('Inclua mais ' + cadeirasAdicionais + ' cadeiras');
        } else {
            alert("Use o audit√≥rio Colorado");
        }
        alert("Agora vamos ver a agenda do evento.");
        agendaEvento();
    }







function agendaEvento(){
var Semana = ['segunda', 'terca', 'quarta', 'quinta', 'sexta'];
var fimDeSemana = ['sabado', 'domingo'];

 diaSemana = prompt("Qual o dia do seu evento? (seg √† domingo)");

if (Semana.includes(diaSemana)){

     horario = parseInt(prompt("Qual a hora do seu evento? (7hs √†s 23hs)"))

    while(horario < 7 || horario > 23){
        alert("Audit√≥rio indispon√≠vel");
         horario = parseInt(prompt("(Insira novamente) Qual a hora do seu evento? \n(7hs √†s 23hs)"))

    }

        


}else if (fimDeSemana.includes(diaSemana)){

     horario = parseInt(prompt("Qual a hora do seu evento? (7hs √†s 15hs)"))

    while(horario < 7 || horario > 15){
        alert("Audit√≥rio indispon√≠vel");
         horario = parseInt(prompt("(Insira novamente) Qual a hora do seu evento? \n(7hs √†s 15hs)"))

    }


}else{
    alert("Dia inv√°lido!");
    agendaEvento();
}



empresa = prompt("Qual o nome da sua empresa?");
alert("Audit√≥rio reservado para " + empresa + ".\n"+  diaSemana + " √†s " + horario + "hs");
gar√ßon();


}

function gar√ßon(){

    var custoPorHora = 10.5; // R$ 10,50 por hora por gar√ßom
    gar√ßonsPorConvidado = Math.ceil(convidados / 12);// Math.ceil Arredonda para cima
   
   

     horas = parseInt(prompt("Qual a dura√ß√£o do evento em horas?"));
     gar√ßonsPorHora = Math.ceil(horas / 2);
     totalgar√ßons = gar√ßonsPorConvidado + gar√ßonsPorHora;
     valorgar√ßons = totalgar√ßons * (custoPorHora * horas);

    alert("S√£o necess√°rios: " + totalgar√ßons + " gar√ßons." );

    

    alert("Custo: R$" + valorgar√ßons.toFixed(2)); 
    alert("Agora vamos calcular o custo do buffet do hotel para o evento");
    Buffet();
   


}

function Buffet(){

var QuantCafe = (0.2 * convidados); 

var QuantAgua = (0.5 * convidados);

var QuantSalgado = (7 * convidados);
 ValorCafe = QuantCafe * 0.80; 

 ValorAgua = QuantAgua * 0.40; 

 ValorSalgado = (QuantSalgado / 100) * 34;


alert( "O evento precisar√° de "+ QuantCafe +" litros de caf√©, "+ QuantAgua + " litros de √°gua, " + QuantSalgado + " salgados." );
EventoTotal = (ValorCafe+ValorAgua+ValorSalgado) + valorgar√ßons;

confirmaEvento(EventoTotal);
 



}

function confirmaEvento(valorTotal){

    

    if (convidados <= 220 ) {
           
    alert(
        "Evento no Audit√≥rio: Laranja \n" +
        "Nome da Empresa: " + empresa +
        "\nData: " + diaSemana + ", " + horario + " √†s " + (horario+horas) +
        "\nDura√ß√£o do evento: " + horas +
        "\nQuantidade de gar√ßons: " + totalgar√ßons +
        "\nQuantidade de Convidados: " + convidados +

        "\n\n\nCusto do gar√ßons: R$" + valorgar√ßons +
        "\nCusto do Buffet: R$" + (ValorCafe+ValorAgua+ValorSalgado)+
        "\n\n\nValor total do Evento: R$" + EventoTotal
    
    );

 


    }
    
    else {
        alert(
        "Evento no Audit√≥rio: Colorado \n" +
        "Nome da Empresa: " + empresa +
        "\nData: " + diaSemana + ", " + horario + " √†s " + (horario+horas) +
        "\nDura√ß√£o do evento: " + horas +
        "\nQuantidade de gar√ßons: " + totalgar√ßons +
        "\nQuantidade de Convidados: " + convidados +

        "\n\n\nCusto do gar√ßons: R$" + valorgar√ßons.toFixed(2) +
        "\nCusto do Buffet: R$" + (ValorCafe+ValorAgua+ValorSalgado).toFixed(2)+
        "\n\n\nValor total do Evento: R$" + EventoTotal.toFixed(2)
    
    );
        }


var AceitarReserva = prompt( "Gostaria de efetuar a reserva? S/N");

if(AceitarReserva === 'S'){
    alert(nome+", reserva efetuada com sucesso.");
    Inicio();

}else{
    alert(nome+", reserva n√£o efetuada.");
    Inicio();
}


}








}


//EVENTO FIM ----------------------------------------------------------------------------------

function PostodeGasolina(){

    var litrosAbastecidos = 42;

    var  WayneAlcool  = parseFloat(prompt("Qual o valor do √°lcool no posto Wayne Oil?"));

    var WayneGasolina = parseFloat(prompt("Qual o valor da gasolina no posto Wayne Oil?"));

    var StarkAlcool  = parseFloat(prompt("Qual o valor do √°lcool no posto Stark Petrol?"));

    var StarkGasolina = parseFloat(prompt("Qual o valor da gasolina no posto Stark Petrol?"));


    var pre√ßoAlcoolW = litrosAbastecidos*WayneAlcool;
    var pre√ßoGasolinaW = litrosAbastecidos*WayneGasolina;

    var pre√ßoAlcoolS = litrosAbastecidos*StarkAlcool;
    var pre√ßoGasolinaS = litrosAbastecidos*StarkGasolina;

    //Melhor op√ßao posto Wayne
    var AlcoolOuGasolinaW = pre√ßoAlcoolW/pre√ßoGasolinaW
    if(AlcoolOuGasolinaW <= 0.7){
        var MelhorOpW = 'Alcool';
    }else{
        var MelhorOpW = 'Gasolina';
    }

    //melhor op√ß√£o posto Stark
    var AlcoolOuGasolinaS = pre√ßoAlcoolS/pre√ßoGasolinaS
    if(AlcoolOuGasolinaS <= 0.7){
        var MelhorOpS = 'Alcool';
    }else{
        var MelhorOpS = 'Gasolina';
    }




    if (pre√ßoAlcoolW < pre√ßoAlcoolS || pre√ßoGasolinaW < pre√ßoGasolinaS){
    alert( nome +  ", √© mais barato abastecer com "+ MelhorOpW +" no posto Wayne Oil");
    Inicio();
    }else{
        alert( nome +  ", √© mais barato abastecer com "+ MelhorOpS +" no posto Stark Petrol");
        Inicio();
    }
    


}



function ArCondicionado(){

function calcularValorServico(valorPorAparelho, quantidade, desconto, quantidadeMinimaDesconto) {
    let valorTotal = valorPorAparelho * quantidade;
    
    if (quantidade >= quantidadeMinimaDesconto) {
        const valorDesconto = (desconto / 100) * valorTotal;
        valorTotal -= valorDesconto;
    }
    
    return valorTotal;
}

function obterDadosServico() {
    const nomeEmpresa = prompt("Qual o nome da empresa?");
    const valorPorAparelho = parseFloat(prompt("Qual o valor por aparelho?"));
    const quantidadeAparelhos = parseInt(prompt("Qual a quantidade de aparelhos?"));
    const percentualDesconto = parseFloat(prompt("Qual a porcentagem de desconto?"));
    const quantidadeMinimaDesconto = parseInt(prompt("Qual o n√∫mero m√≠nimo de aparelhos para conseguir o desconto?"));
    
    return { nomeEmpresa, valorPorAparelho, quantidadeAparelhos, percentualDesconto, quantidadeMinimaDesconto };
}

function mostrarValorServico(nomeEmpresa, valorTotal) {
    alert("O servi√ßo de " + nomeEmpresa + " custar√° R$ "+ valorTotal.toFixed(2)+".");
}

let menorValor = Infinity;
let nomeEmpresaMenorValor = '';

do {
    const { nomeEmpresa, valorPorAparelho, quantidadeAparelhos, percentualDesconto, quantidadeMinimaDesconto } = obterDadosServico();
    
    const valorTotal = calcularValorServico(valorPorAparelho, quantidadeAparelhos, percentualDesconto, quantidadeMinimaDesconto);
    
    if (valorTotal < menorValor) {
        menorValor = valorTotal;
        nomeEmpresaMenorValor = nomeEmpresa;
    }
    
    mostrarValorServico(nomeEmpresa, valorTotal);
    
    var continuar = prompt("Deseja informar novos dados? (S/N)").toUpperCase();
} while (continuar === 'S');

alert("O or√ßamento de menor valor √© o de " +nomeEmpresaMenorValor +" por R$ " + menorValor.toFixed(2) + ".");


}



Inicio()




</script>